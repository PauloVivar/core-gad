services:
  # postgres16:
  #   container_name: postgres16
  #   image: postgres:16-alpine
  #   ports:
  #     - "5434:5432"
  #   environment:
  #     - POSTGRES_USER=paulov
  #     - POSTGRES_PASSWORD=paulovroot
  #     - POSTGRES_DB=db_msvc_users_prod
  #   volumes:
  #     - data-postgres:/var/lib/postgresql/data
  #   restart: always

  postgres16c:
    container_name: postgres16c
    image: postgres:16-alpine
    ports:
      - "5435:5432"
    environment:
      - POSTGRES_USER=paulov
      - POSTGRES_PASSWORD=paulovroot
      - POSTGRES_DB=db_msvc_avaluos_catastros
    volumes:
      - data-postgres-ac:/var/lib/postgresql/data
    restart: always

  msvc-users-prod:
    container_name: msvc-users-prod
    image: users:latest
    ports:
      - 8001:8001
    env_file: ./msvc-users-prod/.env
    # depends_on:
    #   - postgres16
    restart: always

  msvc-avaluos-catastros:
    container_name: msvc-avaluos-catastros
    image: avaluos-catastros:latest
    ports:
      - 8002:8002
    env_file: ./msvc-avaluos-catastros/.env
    depends_on:
      - postgres16c
    restart: always

volumes:
  # data-postgres:
  #   name: data-postgres
  data-postgres-ac:
    name: data-postgres-ac
